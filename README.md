create a timer and promise generator 
